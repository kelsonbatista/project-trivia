{"ast":null,"code":"var _jsxFileName = \"/home/kelson/Projetos/trybe-projetos/16-sd-017-project-trivia-react-redux/src/pages/ScreenGame.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { CheckAnswer } from '../commons/utils/ScreenGame';\nimport { requestToken, setHandleApi, setParameters } from '../action/index';\nimport '../styles.css';\nimport { TRINTA, UM, MIL, MAX_QUESTIONS } from '../commons/constants/ScreenGame';\n\nfunction ScreenGame(props) {\n  // const numberRandom = Math.random() * 100;\n  const [btnDisable, setBtnDisable] = useState(true);\n  const [index, setIndex] = useState(0); // const [Interval, setIntervallGame] = useState(TRINTA);\n\n  const styleTrue = {\n    border: '3px solid rgb(6, 240, 15)'\n  };\n  const styleFalse = {\n    border: '3px solid rgb(255, 0, 0)'\n  };\n  const {\n    player: {\n      name,\n      score\n    },\n    questions,\n    dispatchParameters,\n    handleApi\n  } = props;\n  const [countQuestions, setCountQuestions] = useState(1);\n  const parameters = {\n    btnDisable,\n    index,\n    Interval,\n    styleTrue,\n    styleFalse,\n    countQuestions\n  };\n  dispatchParameters(parameters); // useEffect(() => {\n  //   handleApi();\n  //   setInterval(() => {\n  //     setIntervallGame((Interval) => Interval - UM);\n  //   }, MIL);\n  //   return () => clearInterval(Interval);\n  // }, []);\n  // useEffect(() => {\n  //   if (Interval <= 0) {\n  //     setBtnDisable(true);\n  //   } else {\n  //     setBtnDisable(false);\n  //   }\n  // }, [Interval]);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": \"header-profile-picture\",\n    src: \"https://www.gravatar.com/avatar/c19ad9dbaf91c5533605fbf985177ccc\",\n    alt: \"img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    \"data-testid\": \"header-player-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, name), /*#__PURE__*/React.createElement(\"h3\", {\n    \"data-testid\": \"header-score\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, score)), questions.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    \"data-testid\": \"answer-options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"question-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, questions[index].category), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"question-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, questions[index].question), /*#__PURE__*/React.createElement(\"section\", {\n    \"data-testid\": \"answer-options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    disabled: Interval <= 0 ? 'disabled' : btnDisable,\n    style: styleTrue,\n    \"data-testid\": \"correct-answer\",\n    onClick: event => CheckAnswer(event, props),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, questions[index].correct_answer), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    style: styleFalse,\n    \"data-testid\": `wrong-answer-${index}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, questions[index].incorrect_answers[0]), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    style: styleFalse,\n    \"data-testid\": `wrong-answer-${index}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, questions[index].incorrect_answers[1]), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    style: styleFalse,\n    \"data-testid\": `wrong-answer-${index}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, questions[index].incorrect_answers[2]))) : '', /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"btn-next\",\n    onClick: () => {\n      const {\n        history\n      } = props;\n      setCountQuestions(countQuestions + 1);\n      setIntervallGame(TRINTA);\n      setIndex(index + 1);\n\n      if (countQuestions === MAX_QUESTIONS) {\n        setCountQuestions(0);\n        history.push('/feedback');\n      }\n    },\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, \"Proxima Pergunta\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, `Tempo: ${Interval}`)));\n}\n\nconst mapStateToProps = state => ({\n  player: state.player,\n  questions: state.questions\n});\n\nconst mapDispatchToProps = dispatch => ({\n  RequestToken() {\n    dispatch(requestToken());\n  },\n\n  handleApi() {\n    dispatch(setHandleApi());\n  },\n\n  dispatchParameters(parameters) {\n    dispatch(setParameters(parameters));\n  }\n\n});\n\nScreenGame.propTypes = {\n  player: PropTypes.instanceOf(Object),\n  history: PropTypes.instanceOf(Object),\n  handleApi: PropTypes.func,\n  questions: PropTypes.instanceOf(Object)\n}.isRequired;\nexport default connect(mapStateToProps, mapDispatchToProps)(ScreenGame);","map":{"version":3,"sources":["/home/kelson/Projetos/trybe-projetos/16-sd-017-project-trivia-react-redux/src/pages/ScreenGame.jsx"],"names":["React","useState","useEffect","connect","PropTypes","CheckAnswer","requestToken","setHandleApi","setParameters","TRINTA","UM","MIL","MAX_QUESTIONS","ScreenGame","props","btnDisable","setBtnDisable","index","setIndex","styleTrue","border","styleFalse","player","name","score","questions","dispatchParameters","handleApi","countQuestions","setCountQuestions","parameters","Interval","length","category","question","event","correct_answer","incorrect_answers","history","setIntervallGame","push","mapStateToProps","state","mapDispatchToProps","dispatch","RequestToken","propTypes","instanceOf","Object","func","isRequired"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { CheckAnswer } from '../commons/utils/ScreenGame';\nimport { requestToken, setHandleApi, setParameters } from '../action/index';\nimport '../styles.css';\nimport { TRINTA, UM, MIL, MAX_QUESTIONS } from '../commons/constants/ScreenGame';\n\nfunction ScreenGame(props) {\n  // const numberRandom = Math.random() * 100;\n  const [btnDisable, setBtnDisable] = useState(true);\n  const [index, setIndex] = useState(0);\n  // const [Interval, setIntervallGame] = useState(TRINTA);\n  const styleTrue = { border: '3px solid rgb(6, 240, 15)' };\n  const styleFalse = { border: '3px solid rgb(255, 0, 0)' };\n  const { player: { name, score }, questions, dispatchParameters, handleApi } = props;\n  const [countQuestions, setCountQuestions] = useState(1);\n\n  const parameters = {\n    btnDisable,\n    index,\n    Interval,\n    styleTrue,\n    styleFalse,\n    countQuestions,\n  };\n  dispatchParameters(parameters);\n\n  // useEffect(() => {\n  //   handleApi();\n  //   setInterval(() => {\n  //     setIntervallGame((Interval) => Interval - UM);\n  //   }, MIL);\n  //   return () => clearInterval(Interval);\n  // }, []);\n\n  // useEffect(() => {\n  //   if (Interval <= 0) {\n  //     setBtnDisable(true);\n  //   } else {\n  //     setBtnDisable(false);\n  //   }\n  // }, [Interval]);\n\n  return (\n    <div>\n      <header>\n        <img\n          data-testid=\"header-profile-picture\"\n          src=\"https://www.gravatar.com/avatar/c19ad9dbaf91c5533605fbf985177ccc\"\n          alt=\"img\"\n        />\n        <h3 data-testid=\"header-player-name\">{name}</h3>\n        <h3 data-testid=\"header-score\">{score}</h3>\n      </header>\n      {(questions.length > 0) ? (\n        <div data-testid=\"answer-options\">\n          <p data-testid=\"question-category\">{questions[index].category}</p>\n          <p data-testid=\"question-text\">{questions[index].question}</p>\n\n          <section data-testid=\"answer-options\">\n            <button\n              type=\"button\"\n              disabled={ Interval <= 0 ? 'disabled' : btnDisable }\n              style={ styleTrue }\n              data-testid=\"correct-answer\"\n              onClick={ (event) => (CheckAnswer(event, props)) }\n            >\n              {questions[index].correct_answer}\n            </button>\n\n            <button\n              type=\"button\"\n              style={ styleFalse }\n              data-testid={ `wrong-answer-${index}` }\n            >\n              {questions[index].incorrect_answers[0]}\n            </button>\n\n            <button\n              type=\"button\"\n              style={ styleFalse }\n              data-testid={ `wrong-answer-${index}` }\n            >\n              {questions[index].incorrect_answers[1]}\n            </button>\n\n            <button\n              type=\"button\"\n              style={ styleFalse }\n              data-testid={ `wrong-answer-${index}` }\n            >\n              {questions[index].incorrect_answers[2]}\n            </button>\n          </section>\n        </div>\n      )\n        : '' }\n      <button\n        data-testid=\"btn-next\"\n        onClick={ () => {\n          const { history } = props;\n          setCountQuestions(countQuestions + 1);\n          setIntervallGame(TRINTA);\n          setIndex(index + 1);\n          if (countQuestions === MAX_QUESTIONS) {\n            setCountQuestions(0);\n            history.push('/feedback');\n          }\n        } }\n        type=\"button\"\n      >\n        Proxima Pergunta\n      </button>\n      <div>\n        <p>{`Tempo: ${Interval}`}</p>\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  player: state.player,\n  questions: state.questions,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  RequestToken() {\n    dispatch(requestToken());\n  },\n  handleApi() {\n    dispatch(setHandleApi());\n  },\n  dispatchParameters(parameters) {\n    dispatch(setParameters(parameters));\n  },\n});\n\nScreenGame.propTypes = {\n  player: PropTypes.instanceOf(Object),\n  history: PropTypes.instanceOf(Object),\n  handleApi: PropTypes.func,\n  questions: PropTypes.instanceOf(Object),\n}.isRequired;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ScreenGame);\n"]},"metadata":{},"sourceType":"module"}