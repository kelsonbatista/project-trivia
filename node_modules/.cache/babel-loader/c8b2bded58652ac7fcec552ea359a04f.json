{"ast":null,"code":"import { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport requestToken from '../store/actions'; // export const fetchToken = (props) => {\n//   const { dispatchToken } = props;\n//   const tokenRequestUrl = 'https://opentdb.com/api_token.php?command=request';\n//   fetch(tokenRequestUrl)\n//     .then((result) => result.json())\n//     .then((data) => dispatchToken(JSON.stringify(data)))\n//     .catch((error) => `Error found: ${error}`);\n// };\n\nexport const fetchToken = async props => {\n  const {\n    dispatchToken\n  } = props;\n  const tokenRequestUrl = 'https://opentdb.com/api_token.php?command=request';\n  const response = await fetch(tokenRequestUrl);\n  const data = await response.json();\n  dispatchToken(data);\n};\nfetchToken.propTypes = {\n  dispatchToken: PropTypes.func\n}.isRequired;\n\nconst mapDispatchToProps = dispatch => ({\n  dispatchToken: tokenInfo => dispatch(requestToken(tokenInfo))\n});\n\nexport default connect(null, mapDispatchToProps)(fetchToken);","map":{"version":3,"sources":["/home/kelson/Projetos/trybe-projetos/16-sd-017-project-trivia-react-redux/src/services/token.js"],"names":["connect","PropTypes","requestToken","fetchToken","props","dispatchToken","tokenRequestUrl","response","fetch","data","json","propTypes","func","isRequired","mapDispatchToProps","dispatch","tokenInfo"],"mappings":"AAAA,SAASA,OAAT,QAAwB,aAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,YAAP,MAAyB,kBAAzB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAOC,KAAP,IAAiB;AACzC,QAAM;AAAEC,IAAAA;AAAF,MAAoBD,KAA1B;AACA,QAAME,eAAe,GAAG,mDAAxB;AACA,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,eAAD,CAA5B;AACA,QAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACAL,EAAAA,aAAa,CAACI,IAAD,CAAb;AACD,CANM;AAQPN,UAAU,CAACQ,SAAX,GAAuB;AACrBN,EAAAA,aAAa,EAAEJ,SAAS,CAACW;AADJ,EAErBC,UAFF;;AAIA,MAAMC,kBAAkB,GAAIC,QAAD,KAAe;AACxCV,EAAAA,aAAa,EAAGW,SAAD,IAAeD,QAAQ,CAACb,YAAY,CAACc,SAAD,CAAb;AADE,CAAf,CAA3B;;AAIA,eAAehB,OAAO,CAAC,IAAD,EAAOc,kBAAP,CAAP,CAAkCX,UAAlC,CAAf","sourcesContent":["import { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport requestToken from '../store/actions';\n\n// export const fetchToken = (props) => {\n//   const { dispatchToken } = props;\n//   const tokenRequestUrl = 'https://opentdb.com/api_token.php?command=request';\n//   fetch(tokenRequestUrl)\n//     .then((result) => result.json())\n//     .then((data) => dispatchToken(JSON.stringify(data)))\n//     .catch((error) => `Error found: ${error}`);\n// };\n\nexport const fetchToken = async (props) => {\n  const { dispatchToken } = props;\n  const tokenRequestUrl = 'https://opentdb.com/api_token.php?command=request';\n  const response = await fetch(tokenRequestUrl);\n  const data = await response.json();\n  dispatchToken(data);\n};\n\nfetchToken.propTypes = {\n  dispatchToken: PropTypes.func,\n}.isRequired;\n\nconst mapDispatchToProps = (dispatch) => ({\n  dispatchToken: (tokenInfo) => dispatch(requestToken(tokenInfo)),\n});\n\nexport default connect(null, mapDispatchToProps)(fetchToken);\n"]},"metadata":{},"sourceType":"module"}